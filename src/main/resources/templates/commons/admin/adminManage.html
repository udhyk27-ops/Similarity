<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>사진공모전 저작물 등록관리 시스템</title>

    <link rel="stylesheet" th:href="@{/css/admin.css}">
    <link rel="stylesheet" th:href="@{/css/layout.css}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chiron Sung HK:wght@400;700&display=swap" rel="stylesheet">

    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
<!--    <script type="module" th:src="@{/js/adminManage.js}"></script>-->
    <script type="module" th:src="@{/js/manage.js}"></script>
    <style>
        .sec1-1 { flex: 0.5;}
        .sec1-2 { flex: 0.2; display: flex; width: 100%; }
        .sec1-3 { flex: 9.3; }
        form > .cell { border: none;}
        form > .cell > input { width: 20%; }
        .excel-div {flex: 1; padding: 0.5rem 0; display: flex; justify-content: flex-end; align-items: center;}
        .work-tb > .row > .cell > input { width: 80%; }
        .status-cell {
            width: 100%;
            border-right: 1px solid #ddd;
            display: flex;
            align-items: center;
            padding: 0.5rem;
            font-size: 1rem;
            gap: 1.0rem;
        }
        #user-memo { width: 80%; height: 10.0rem; border: 1px solid #ddd; padding: 0.5rem; font-size: 1.0rem; }
        #user-memo:focus { border-color: #f1575b; outline: none; }
        .header-cell { min-width: 10.0rem; }
        .auth-cell {
            width: 100%;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            padding: 0.5rem;
            font-size: 1rem;
            gap: 0.5rem;
        }
        #schPdForm > .cell { border: none;}
        #schPdForm > .cell > input { width: 20%; }
    </style>
</head>
<body data-page-type="admin">
<header class="header">
    <th:block th:replace="~{commons/fragments/headerPage.html :: header}"></th:block>
</header>

<div class="ui">
    <div class="navbar">
        <th:block th:replace="~{commons/fragments/navbarPage.html :: navbar}"></th:block>
    </div>

    <div class="main">
        <div class="title">관리자 등록관리</div>

        <div class="content">
            <div class="area1">
                <div class="sec1-1">
                    <form id="schPdForm" method="/userManage" autocomplete="off">
                        <!--                        <input type="hidden" name="sort" value="award" />-->
                        <input type="hidden" name="page" value="1" />
                        <div class="cell">
                            <select name="schFilter">
                                <option value="" selected disabled hidden>선택</option>
                                <option value="op-title">제목</option>
                                <option value="op-author">저작자명</option>
                            </select>
                            <input type="text" name="keyword" th:value="${search.keyword}" />
                            <button class="cell-btn">검색</button>
                        </div>
                    </form>
                </div>

                <div class="sec1-2">
                    <div class="sch-result">
                        <p th:text="'총 ' + ${totalCnt} + '건 중 검색결과: ' + ${cdCnt} + '건'">
                            총 0건 중 검색결과: 0건
                        </p>
                    </div>
                    <div class="excel-div"><button class="cell-btn">엑셀저장</button></div>
                </div>

                <div class="sec1-3">
                    <div class="reg-list-tb">
                        <div class="row header-row">
                            <div class="cell">번호</div>
                            <div class="cell">이름</div>
                            <div class="cell">소속</div>
                            <div class="cell">직책</div>
                            <div class="cell">연락처</div>
                        </div>

                        <div class="row reg-list-row" th:if="${!#lists.isEmpty(userList)}" th:each="user:${userList}" th:data-user-no="${user.f_user_no}">
                            <div class="cell" th:text="${(currentPage - 1) * pageSize + userStat.index + 1}"></div>
                            <div class="cell" th:text="${user.f_name}"></div>
                            <div class="cell" th:text="${user.f_dept}"></div>
                            <div class="cell" th:text="${user.f_position}"></div>
                            <div class="cell" th:text="${user.f_phone}"></div>
                        </div>
                        <div class="row" th:if="${#lists.isEmpty(userList)}"><div class="cell">등록된 관리자가 없습니다.</div></div>
                    </div>

                    <div class="paging-div" th:if="${cdCnt > 0}">
                        <a th:if="${currentPage > 1}" th:href="@{/admin/manage(page=1)}">처음</a>

                        <a th:if="${currentPage > 1}"
                           th:href="@{/admin/manage(page=${currentPage - 1})}">이전</a>

                        <!-- 페이지 번호 반복 -->
                        <a th:each="i : ${#numbers.sequence(1, totalPages)}"
                           th:href="@{/admin/manage(page=${i})}"
                           th:text="${i}"
                           th:classappend="${i == currentPage} ? 'current' : ''"></a>

                        <a th:if="${currentPage < totalPages}"
                           th:href="@{/admin/manage(page=${currentPage + 1})}">다음</a>

                        <a th:if="${currentPage < totalPages}" th:href="@{/admin/manage(page=${totalPages})}">끝</a>
                    </div>
                </div>
            </div>

            <div class="area2">
                <div class="sec2-1">
                    <div class="work-tb">
                        <div class="row">
                            <div class="header-cell">아이디</div>
                            <div class="cell"><input id="user-id" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">이름</div>
                            <div class="cell"><input id="user-name" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">비밀번호</div>
                            <div class="cell"><input /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">연락처</div>
                            <div class="cell"><input id="user-phone" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">이메일</div>
                            <div class="cell"><input id="user-email" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">지부</div>
                            <div class="cell"><input id="user-dept" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">직위</div>
                            <div class="cell"><input id="user-position" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">권한</div>

                            <div class="auth-cell">
                                <div><input type="checkbox" name="auth" value="" /> 수상작 등록관리</div>
                                <div><input type="checkbox" name="auth" value="" /> 초대작 등록관리</div>
                                <div><input type="checkbox" name="auth" value="" /> 등록작품 현황</div>
                                <div><input type="checkbox" name="auth" value="" /> 유사도 검색</div>
                                <div><input type="checkbox" name="auth" value="" /> 운영회원 관리</div>
                                <div><input type="checkbox" name="auth" value="" /> 관리자 등록관리</div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="header-cell">최근로그인</div>
                            <div class="cell"><input id="user-login" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">마지막 업데이트</div>
                            <div class="cell"><input id="user-modify" /></div>
                        </div>
                        <div class="row">
                            <div class="header-cell">상태</div>
                            <div class="status-cell">
                                <input id="use" type="radio" name="status" />
                                <label for="use">사용</label>
                                <input id="stop" type="radio" name="status" />
                                <label for="stop">중지</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="header-cell">회원메모</div>
                            <div class="cell"><textarea id="user-memo"></textarea></div>
                        </div>
                        <input type="hidden" id="user-no" />

                    </div>
                </div>
                <div class="sec2-2">
                    <div class="btn-div">
                        <div class="btn-group1">
                            <button class="del-btn">삭제</button>
                        </div>
                        <div class="btn-group2">
                            <button class="ins-btn">작품등록</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
